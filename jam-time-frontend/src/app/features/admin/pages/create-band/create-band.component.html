<div class="content-container">
  <h1>Zenekar létrehozás</h1>

  <form [formGroup]="bandForm" class="form-container">
    <mat-form-field>
      <mat-label>Zenekar neve</mat-label>
      <input matInput formControlName="name">
      <mat-error>Kötelező mező</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Vezető</mat-label>
      <input matInput [value]="leader" formControlName="leader" readonly (click)="changeLeader()">
      <mat-error>Kötelező mező</mat-error>
    </mat-form-field>

    <h3>Tagok</h3>
    <mat-chip-set class="form-container">
      <mat-error *ngIf="members.length < 1">Nincsennek még tagok megadva...</mat-error>
      @for (musician of members; track musician) {
        <mat-chip>
          {{ musician.name }}
          <button matChipRemove (click)="removeBandMemberById(musician.id)">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip>
      }
    </mat-chip-set>

    <div class="action-buttons">
      <button mat-raised-button (click)="addMember()">
        <mat-icon>add</mat-icon>
        Tag hozzáadás...
      </button>
      <button mat-flat-button [disabled]="bandForm.invalid" (click)="onSave()">
        <mat-icon>save</mat-icon>
        Létrehozás
      </button>
    </div>
  </form>
</div>
